# SSE Server Configuration
# Port 0 = random port (avoids conflicts in local dev)
# Overridden to 8080 in containers via QUARKUS_HTTP_PORT env var
quarkus.http.port=0
quarkus.http.host=0.0.0.0

# CORS Configuration for browser access
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition
quarkus.http.cors.access-control-max-age=24H

# MCP SSE is enabled by default when using quarkus-mcp-server-sse
# Default endpoint: /mcp/sse

# Quarkus based Keycloak distribution
quarkus.keycloak.admin-client.server-url=${KC_URL}
quarkus.keycloak.admin-client.username=${KC_USER}
quarkus.keycloak.admin-client.password=${KC_PASSWORD}

# Dev services: integrations to test containers is disabled
quarkus.keycloak.devservices.enabled=false

# Container Image Configuration (Jib)
# Build is disabled by default. Enable with: -Dquarkus.container-image.build=true
quarkus.container-image.build=false
quarkus.container-image.registry=quay.io
quarkus.container-image.group=sshaaf
quarkus.container-image.name=keycloak-mcp-server
quarkus.container-image.tag=@git.commit.id.abbrev@
quarkus.container-image.additional-tags=latest

# Jib specific configuration
quarkus.jib.base-jvm-image=registry.access.redhat.com/ubi9/openjdk-21-runtime:1.20
quarkus.jib.platforms=linux/amd64,linux/arm64
quarkus.jib.ports=8080

# Environment variables in the container
# Override port to 8080 in containers (default is 0 for local dev)
quarkus.jib.environment-variables.QUARKUS_HTTP_PORT=8080
quarkus.jib.environment-variables.KC_URL=http://keycloak:8080
quarkus.jib.environment-variables.KC_USER=admin
quarkus.jib.environment-variables.KC_PASSWORD=admin
